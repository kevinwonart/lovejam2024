Object = require "classic/classic"
local Sprite = require "sprite"

Train = Object:extend()

function Train:new()
    self.spacing = 64
    self.sprite = Sprite
end

function Train:draw(x, y)
  local quadIndices = { 64, 73, 64, 75 }
  local spacing = 64
  local wheelIndex = 76

  local wheelOffsetX = 0
  local wheelOffsetY = 14

  for i, index in ipairs(quadIndices) do
      --local offsetX = (i - 1) * (self.sprite.image:getWidth() + self.spacing)
      self.sprite:draw(index, x + (i - 1) * spacing, y)

      local wheelPosX = offsetX + wheelOffsetX
      local wheelPosY = y + wheelOffsetY

      print("cart posx: " .. (x + (i - 1) * spacing))
      print("cart posy: " .. y)
      print("wheel posx: " .. wheelPosX)
      print("wheel posy: " .. wheelPosY)
      self.sprite:draw(wheelIndex, x + (i - 1) * spacing, wheelPosY)
  end
end

return Train
